__---
layout: post
title: P2 - Measure Preserving Transformations
date: 2024-07-27 
description: Probability Measures
tags: 
categories: Probability
related_posts: false
---

In this post, I'll give another example of a measure space and introduce an important topic concept in ergodic theory; measure preserving transformations.

One interesting space we often consider is the space of infinite sequences of numbers taken from some finite set which models rolling a die an infinite number of times. For instance, we could take our "alphabet" to be the set $$S = \{0, \, 1, \, \cdots \, n-1   \}$$ consisting of $$n$$ "letters". Words taken from this alphabet could look something like $$(0, \,  1, \, 0, \, 0, \, 0, \, 1, \, \cdots )$$  and the set of all such words $$ (a_i)_{i \in \mathbb{N}}$$ is denoted $$\Pi_{i=1}^\infty \{ 0, \, 1, \, \cdots \, n-1\} = \Omega$$. To construct a probability measure on this set, we should find some collection of simple sets to define their probability, and then we'll be able to find the measure of any unions, intersections, and complements of these sets. If our die is fair, we would expect that the probability of the Ith roll $$a_I$$ to be a particular number $$\omega_I \in S$$ is $$1/n$$ and that previous die rolls do not affect future rolls (independence). Thus we define $$\mathbb{P}(\{ (a_i)_{i \in \mathbb{N}} : a_I = \omega_I   \}) = 1/n$$ and $$ \mathbb{P}(\{ (a_i)_{i \in \mathbb{N}} : a_I = \omega_I   \} \cap \{ (a_i)_{i \in \mathbb{N}} : a_J = \omega_J   \}) = \mathbb{P}(\{ (a_i)_{i \in \mathbb{N}} : a_I = \omega_I   \}) * \mathbb{P}(\{ (a_i)_{i \in \mathbb{N}} : a_J = \omega_J   \}) $$ for all rolls $$I, J \in \mathbb{N}$$ and letters $$\omega_I, \omega_J \in \mathbb{N}$$. Taking intersections of these sets, we see that the probability of first rolling a zero and then a one is $$\mathbb{P}(\{ (a_i)_{i \in \mathbb{N}} : a_1 = 0, \, a_2 = 1   \}) = \mathbb{P}(\{ (a_i)_{i \in \mathbb{N}} : a_1 = 0   \} \cap \{ (a_i)_{i \in \mathbb{N}} : a_2 = 1   \}) = 1/n^2 $$ and the probability of rolling either a zero or one on the first roll is $$\mathbb{P}(\{ (a_i)_{i \in \mathbb{N}} : a_1 = 0   \} \cup \{ (a_i)_{i \in \mathbb{N}} : a_1 = 1   \}) = 2/n$$.

Although it does not look it, this space is very similar to a space we've seen before; the unit interval [0, 1]. To see this, pretend that every sequence in $$\Omega$$ represents the base-n decimal expansion of a number. This means we have a function $$f : \Omega \rightarrow [0, 1]$$ sending a sequence $$(a_i)$$ to the number $$f((a_i)) = \Sum_{i=1}^\infty \; a_i / n^i$$. So if $$n=10$$, the sequence $$(2, \, 3, \, 4, \, 0, \, 0, \, 0, \, \cdots)$$ is sent to $$0.234$$. It is clear that $$f$$ is onto, but it is not one-to-one. Notice that the sequence of a one and then all nines is sent to $$0.19999\cdots = 0.20000\cdots$$. Fortunately, this is the only thing that can go wrong (exercise). If we throw out all the sequences that end with the digit $$n-1$$ repeating to create a set $$\Tilde{\Omega}$$, then the function $$\Tilde{f} = f|_{\Tilde{\Omega}} : \Tilde{\Omega} \rightarrow [0, 1)$$ is a bijection. We are also lucky that the probability of landing on an eventual sequence of $$n-1$$ was zero. To see this, notice that the collection of sequences that are eventually all $$n-1$$ is a countable union of sets $$ \bigcup_{k=1}^\infty \{ (a_i) : a_i = n-1$$ for all $$ i \geq k \} $$. Each of these sets is measure zero (exercise) and so their countable union is also measure zero (exercise). This function $$\Tilde{f}$$ also has another important property: preserving measure.

Another equivalent way of defining all the measureable sets on $$\Omega$$ is to define the probability of guessing the first $$m$$ rolls correctly, not just the Ith roll. We could have set $$\mathbb{P}( \{ (a_i)_{i \in \mathbb{N}} : a_1 = \omega_1, \, \cdots \, a_m = \omega_m   \}) = 1/n^m$$ and the unions/ intersections of these sets gives us exactly the same probabilities and sets as before. Under the map $$\Tilde{f}$$, these sets are sent to decimal expansions that begin with $$0. \omega_1 \omega_2 \omega_3 \cdots$$ which is just the set $$[0.\omega_1 \omega_2 \cdots \omega_m, \; 0.\omega_1 \omega_2 \cdots \omega_m + n^{-m})$$. This is an interval of length/ measure $$n^{-m}$$ (endpoints do not matter because they have zero measure) and so both sets have the same probability measure. Intuitively this statement says that there is equal likelyhood of guessing the first $$m$$ rolls of a die of $$n$$ sides as guessing the first $$m$$ digits in the base $$n$$ decimal expansion of a number in $$[0, 1)$$. We can use properties of the inverse function to extend this to all measurable sets.

For all functions $$g$:X\rightarrow Y$ and sets $$A, B \subset Y$$, we have the equalities $$g^{-1}(A \cap B) = g^{-1}(A) \cup g^{-1}(B), \; g^{-1}(A \cap B) = g^{-1}(A) \cup g^{-1}(B), \; g^{-1}(A^c) = g^{-1}(A)^c $$. With these relations, we can show that for all measurable sets of $$B \subset \Tilde{\Omega}$$ (built out of unions, intersections, and complements of these simple sets), we have that $$\mathbb{P}(B) = \mathbb{P}(\Tilde{f}(B))$$. This discussion used the fact that $$\Tilde{f}$$ was a bijection, but for any function $$g :X \rightarrow Y$$, you can define a multifunction $$g^{-1} (y) = \{x \in X : g(x) = y\} $$ and the previous equalities still hold for $$g^{-1}$$. With this in mind, we can finally define a measure-preserving transformation.

The collection of a set $$X$$, with probability measure $$\mathbb{P}$$, and a function $$T : X \rightarrow X$$ is called a measure preserving transformation if $$\mathbb{P}(A) = \mathbb{P}(T^{-1}(A))$$ for all measureable sets $$A \subset X$$.

Remarks:
1. We have previously seen that not all subsets of $$X$$ are necessarily measurable. Thus we need to assume $$T^{-1}(A)$$ is measurable for all measurable $$A$$. This property means that $$T$$ is called measurable.
2. It is not necessary to have a probability measure, only a measure. This means we could measure lengths on $$[0,2]$$ instead of $$[0, 1]]$$ or even all of $$\mathbb{R}$$.
3. Measure-preserving transformations are sometimes called volume-preserving transformations.

Examples/ exercises:
1. On our space $$\Omega$$, consider the left shift $$\sigma$$ where $$\sigma(a_1, \, a_2, \, a_3, \cdots) = (a_2, \, a_3, \cdots)$$. Then $$\sigma$$ is a measure preserving transformation.
2. On the space $$[0,1)$$, pick a real number $$\alpha$$ and define $$T$$ to shift by $$\alpha$$ i.e. $$T(x) = x + \alpha - \lceil x + \alpha \rceil$$. Then $$T$$ is a measure-preserving transformation.
3. On the space $$[0,1)$$, pick a positive integer $$n$$ and define $$T$$ to give the fractional part of $$nx$$ i.e. $$T(x) = nx - \lceil nx \rceil$$. Then $$T$$ is called the expanding endomorphism and is a measure-preserving transformation. Notice that it is not true that $$\mathbb{P}(A) = \mathbb{P}(T^(A))$$ and it is still measure-preserving because our definition uses the inverse function.
